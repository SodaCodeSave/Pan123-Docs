# ğŸï¸ å›¾åºŠ

> å›¾åºŠæ˜¯ä¸€ç§ä¼ æ’­å›¾ç‰‡çš„æ–¹å¼ï¼Œå®ƒå¯ä»¥è½»æ¾çš„å°†å›¾ç‰‡åµŒå…¥åˆ°ä½ çš„ç½‘ç«™ä¸­

## ğŸ› ï¸ å‡½æ•°


### åˆ›å»ºç›®å½•

```python
pan.oss.mkdir(name, parent_id)
```

- `name`
    - æ–‡ä»¶å¤¹å
- `parent_id`
    - çˆ¶ç›®å½•idï¼Œä¸Šä¼ åˆ°æ ¹ç›®å½•æ—¶å¡«å†™ 0

### é‡å‘½åæ–‡ä»¶

```python
pan.oss.rename(rename_dict)
```

- `rename_dict`
    - æ–‡ä»¶é‡å‘½åå­—å…¸ï¼Œæ ¼å¼ä¸º `{æ–‡ä»¶ID: æ–°æ–‡ä»¶å}`

### ç§»åŠ¨æ–‡ä»¶

```python
pan.oss.move(file_id_list, to_parent_file_id)
```

- `file_id_list`
    - è¦ç§»åŠ¨çš„æ–‡ä»¶IDåˆ—è¡¨
- `to_parent_file_id`
    - ç§»åŠ¨åˆ°çš„ç›®æ ‡æ–‡ä»¶å¤¹ID

### åˆ é™¤æ–‡ä»¶
```python
pan.oss.delete(file_ids)
```
- `file_ids`
    - è¦å½»åº•åˆ é™¤çš„æ–‡ä»¶IDåˆ—è¡¨ï¼Œæ–‡ä»¶å¿…é¡»åœ¨å›æ”¶ç«™ä¸­

### è·å–æ–‡ä»¶è¯¦æƒ…
```python
pan.oss.detail(file_id)
```
- `file_id`
    - è¦è·å–è¯¦æƒ…çš„æ–‡ä»¶ID

### ä¸Šä¼ æ–‡ä»¶

#### ä¸€é”®ä¸Šä¼ ï¼ˆæ¨èï¼‰

```python
pan.oss.upload(parent_file_id, file_path)
```
- `parent_file_id`
    - æ–‡ä»¶ä¸Šä¼ åˆ°å“ªä¸ªç›®å½•ä¸‹
- `file_path`
    - è¦ä¸Šä¼ çš„æ–‡ä»¶çš„è·¯å¾„

#### æ‰‹åŠ¨ä¸Šä¼ 

> æ›´å¤šå†…å®¹è¯·å‚è€ƒ[123äº‘ç›˜å¼€æ”¾æ–‡æ¡£](https://123yunpan.yuque.com/org-wiki-123yunpan-muaork/cr6ced/uihb5w71iwqvi9dw)

1. ä½¿ç”¨`pan.oss.create(parent_file_id, filename, etag, size, duplicate)`åˆ›å»ºæ–‡ä»¶ï¼Œæ¥å£è¿”å›çš„reuseä¸ºtrueæ—¶ï¼Œè¡¨ç¤ºç§’ä¼ æˆåŠŸï¼Œä¸Šä¼ ç»“æŸã€‚éç§’ä¼ çš„æƒ…å†µå°†ä¼šè¿”å›é¢„ä¸Šä¼ ID `preuploadID` ä¸åˆ†ç‰‡å¤§å° `sliceSize`,è¯·å°†æ–‡ä»¶æ ¹æ®åˆ†ç‰‡å¤§å°åˆ‡åˆ†ã€‚
2. éç§’ä¼ æ—¶ï¼Œæºå¸¦æ­¥éª¤1è¿”å›çš„`preuploadID` ä¸åˆ†ç‰‡åºå·`sliceNo`ï¼Œä½¿ç”¨`get_upload_url(preupload_id, slice_no)`è·å–ä¸Šä¼ åœ°å€ã€‚
3. ç”¨PUTè¯·æ±‚æ­¥éª¤2ä¸­è¿”å›çš„åœ°å€ï¼Œä¸Šä¼ æ–‡ä»¶åˆ†ç‰‡ã€‚
    - (æ¨èæ“ä½œ)æ–‡ä»¶åˆ†ç‰‡ä¸Šä¼ å®Œæˆåï¼Œä½¿ç”¨`list_upload_parts(preupload_id)`å‡½æ•°ï¼Œåœ¨æœ¬åœ°è¿›è¡Œä¸äº‘ç«¯çš„åˆ†ç‰‡md5æ¯”å¯¹
> æ³¨:å¦‚æœæ‚¨çš„æ–‡ä»¶å°äº sliceSize ,è¯¥æ“ä½œå°†ä¼šè¿”å›ç©ºå€¼,å¯ä»¥ä¸è¿›è¡Œè¿™æ­¥æ“ä½œã€‚
4. æ ¡éªŒå®Œæˆåï¼Œä½¿ç”¨`upload_complete(preupload_id)`å‡½æ•°ï¼Œå®Œæˆä¸Šä¼ ã€‚
    - æ ¹æ®æ­¥éª¤4è¿”å›çš„ç»“æœï¼Œåˆ¤æ–­æ˜¯å¦éœ€è¦ä½¿ç”¨`upload_async_result(preupload_id)`å‡½æ•°ï¼Œè·å–ä¸Šä¼ çš„æœ€ç»ˆç»“æœã€‚è¯¥æ—¶é—´éœ€è¦ç­‰å¾…ï¼Œ123äº‘ç›˜æœåŠ¡å™¨ä¼šæ ¡éªŒç”¨æˆ·é¢„ä¸Šä¼ æ—¶çš„MD5ä¸å®é™…ä¸Šä¼ æˆåŠŸçš„MD5æ˜¯å¦ä¸€è‡´ã€‚

### å‘èµ·ç¦»çº¿ä¸‹è½½è¯·æ±‚

> æ–¹æ³•å·²å¼ƒç”¨ å°†åœ¨v0.1.7æç¤ºåˆ é™¤ v0.1.8å½»åº•ç§»é™¤

```python
oss.offline_download.download(download_url, file_name, save_path, call_back_url)
```

- `download_url`
    - éœ€è¦ä¸‹è½½çš„èµ„æºURLã€‚ç¤ºä¾‹ï¼š"https://example.com/file.mp4"
- `file_name`
    - ä¸‹è½½ä¿å­˜çš„æ–‡ä»¶åï¼ˆå¯é€‰ï¼‰ã€‚ç¤ºä¾‹ï¼š"video.mp4"
- `save_path`
    - çˆ¶æ–‡ä»¶å¤¹ï¼ˆå¯é€‰ï¼‰
- `call_back_url`
    - ä¸‹è½½å®Œæˆåçš„å›è°ƒé€šçŸ¥åœ°å€ï¼ˆå¯é€‰ï¼‰ã€‚ç¤ºä¾‹ï¼š"https://example.com/callback"

### æŸ¥è¯¢ç¦»çº¿ä¸‹è½½è¿›åº¦

> æ–¹æ³•å·²å¼ƒç”¨ å°†åœ¨v0.1.7æç¤ºåˆ é™¤ v0.1.8å½»åº•ç§»é™¤

```python
oss.offline_download.download_process(task_id)
```

- `task_id`
    - ç¦»çº¿ä¸‹è½½ä»»åŠ¡IDã€‚ç¤ºä¾‹ï¼š"123456"

### è·å–å¤åˆ¶ä»»åŠ¡è¯¦æƒ…
```python
pan.oss_source_copy.process(task_id)
```
- `task_id`
    - å¤åˆ¶ä»»åŠ¡ID

### è·å–å¤åˆ¶å¤±è´¥æ–‡ä»¶åˆ—è¡¨
```python
pan.oss_source_copy.fail(task_id, limit, page)
```
- `task_id`
    - å¤±è´¥ä»»åŠ¡ID
- `limit`
    - æ¯é¡µæ–‡ä»¶æ•°é‡ï¼Œæœ€å¤§ä¸è¶…è¿‡100
- `page`
    - å½“å‰é¡µç ã€‚ç¤ºä¾‹:`1`

### åˆ›å»ºå¤åˆ¶ä»»åŠ¡
```python
pan.oss_source_copy.copy(file_ids, to_parent_file_id, sourceType, type)
```
- `file_ids`
    - éœ€è¦å¤åˆ¶çš„æ–‡ä»¶IDåˆ—è¡¨ã€‚ç¤ºä¾‹:`["1", "2", "3", "4"]`
- `to_parent_file_id`
    - è¦ç§»åŠ¨åˆ°çš„å›¾åºŠç›®æ ‡æ–‡ä»¶å¤¹idï¼Œç§»åŠ¨åˆ°æ ¹ç›®å½•æ—¶ä¸ºç©º
- `sourceType`
    - å¤åˆ¶æ¥æº(1=äº‘ç›˜)
- `type`
    - ä¸šåŠ¡ç±»å‹ï¼Œå›ºå®šä¸º 1